<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: black;
            color: white; /* Default text color */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* Full viewport height */
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            color: #FF69B4; /* Hot Pink */
            font-size: 2.5em; /* Adjusted for mobile */
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            text-align: center;
        }

        #plotContainer {
            background-color: #333; /* Darker grey for the container */
            border-radius: 10px;
            padding: 15px; /* Adjusted padding */
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
            width: 95%; /* Take up more width on smaller screens */
            max-width: 600px; /* Max width for larger screens */
            display: flex;
            justify-content: center; /* Center the canvas inside */
            align-items: center;
        }

        canvas {
            border: 2px solid #555;
            background-color: #1a1a1a; /* Even darker for the canvas background */
            display: block; /* Remove extra space below canvas */
            width: 100%; /* Make canvas responsive within its container */
            height: auto; /* Maintain aspect ratio */
            max-width: 600px; /* Max width for larger screens */
            max-height: 400px; /* Max height for larger screens */
        }

        .custom-message {
            margin-top: 20px;
            font-size: 1em; /* Adjusted for mobile */
            color: #bbb; /* Less highlighted color */
            text-align: center;
            max-width: 600px;
            line-height: 1.5;
            padding: 0 10px; /* Add some padding for mobile */
        }

        /* Media queries for larger screens if needed, but flexbox and max-width handle much */
        @media (min-width: 768px) {
            h1 {
                font-size: 3em;
            }
            .custom-message {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <h1>Happy Birthday Rupshaüòä!</h1>

    <div id="plotContainer">
        <canvas id="equationPlot" width="600" height="400"></canvas>
    </div>

    <div class="custom-message">
        <p>congratulations on surviving these 19 years specially CU respect ü´° Happy 20th ‡§ú‡§®‡•ç‡§Æ ‡¶¶‡¶ø‡¶® üéâ</p>
        <p>Gift toh dite pari ni so something unique try korlamüòÑ errors er jonno aktu late hoyegechi kichu mone koris naüôÇ</p>
        
    </div>

    <script>
        const canvas = document.getElementById('equationPlot');
        const ctx = canvas.getContext('2d');

        const width = canvas.width;
        const height = canvas.height;

        // Define the range for x
        const xMin = -3;
        const xMax = 3;
        const yMin = -3; // Adjust based on your expected y values
        const yMax = 3;

        let k = -75; // Starting k value
        const kSpeed = 0.5; // How fast k changes per frame
        let kDirection = 1; // 1 for increasing, -1 for decreasing

        // Transformation functions from plot coordinates to canvas coordinates
        function transformX(x) {
            return (x - xMin) / (xMax - xMin) * width;
        }

        function transformY(y) {
            return height - (y - yMin) / (yMax - yMin) * height;
        }

        function plotEquation() {
            ctx.clearRect(0, 0, width, height); // Clear the canvas

            // Draw Axes
            ctx.beginPath();
            ctx.strokeStyle = '#555'; // Grey color for axes
            ctx.lineWidth = 1;

            // X-axis
            ctx.moveTo(0, transformY(0));
            ctx.lineTo(width, transformY(0));
            ctx.stroke();

            // Y-axis
            ctx.moveTo(transformX(0), 0);
            ctx.lineTo(transformX(0), height);
            ctx.stroke();

            // Determine plot color based on k
            // Hue ranges from 0 to 360. Map k from -75 to 75 to this range.
            const hue = ((k + 75) / 150) * 360;
            ctx.strokeStyle = `hsl(${hue}, 100%, 70%)`; // Vivid color, 70% lightness
            ctx.lineWidth = 2;

            ctx.beginPath();

            // Plot the equation
            const step = (xMax - xMin) / width; // Smaller step for smoother curve
            let firstPoint = true;

            for (let i = 0; i < width; i++) {
                const x = xMin + i * step;

                // Calculate the term ‚àö(3-x¬≤)
                const termSqrt = 3 - x * x;

                if (termSqrt >= 0) { // Only plot where the square root is real
                    const y = Math.pow(Math.abs(x), 0.8) + 0.8 * Math.sin(k * x) * Math.sqrt(termSqrt);

                    if (firstPoint) {
                        ctx.moveTo(transformX(x), transformY(y));
                        firstPoint = false;
                    } else {
                        ctx.lineTo(transformX(x), transformY(y));
                    }
                } else {
                    // If the square root is not real, lift the pen to avoid connecting discontinuous segments
                    firstPoint = true;
                }
            }
            ctx.stroke();

            // Update k for animation
            k += kSpeed * kDirection;
            if (k >= 75 || k <= -75) {
                kDirection *= -1; // Reverse direction when limits are reached
            }

            requestAnimationFrame(plotEquation); // Loop the animation
        }

        // Initial plot and start animation
        plotEquation();
    </script>
</body>
</html>
